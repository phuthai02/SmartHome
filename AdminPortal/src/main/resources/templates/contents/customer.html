<!DOCTYPE html>
<html
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout}">
<head>
    <title>Tài khoản khách hàng</title>
</head>
<body>

<div layout:fragment="content">
    <div class="topbar">
        <div class="topbar-content">
            <div class="topbar-left">
                <h1>Tài khoản khách hàng</h1>
                <div class="breadcrumb">
                    <span>Tài khoản và bảo mật</span>
                    <span>›</span>
                    <span>Tài khoản khách hàng</span>
                </div>
            </div>
            <div class="topbar-right">
                <button class="notification-btn">
                    <img src="icons/bell.svg" alt="Thông báo"/>
                    <div class="notification-badge"></div>
                </button>
                <button class="menu-toggle" onclick="toggleSidebar()">
                    <img src="icons/menu.svg" alt="Menu"/>
                </button>
            </div>
        </div>
    </div>

    <div class="page-content">
        <!-- Header Actions -->
        <div class="page-header">
            <div class="header-actions">
                <button class="btn btn-primary" onclick="showAddModal()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 5v14M5 12h14"/>
                    </svg>
                    Thêm tài khoản
                </button>
                <button class="btn btn-secondary" onclick="exportData()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                    </svg>
                    Xuất Excel
                </button>
            </div>
        </div>

        <!-- Filters -->
        <div class="filters-section">
            <div class="filters-grid">
                <div class="filter-group">
                    <label>Tìm kiếm</label>
                    <div class="search-box">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                             stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35"/>
                        </svg>
                        <input type="text" placeholder="Tìm theo tên, email..." id="searchInput"
                               oninput="filterTable()">
                    </div>
                </div>
                <div class="filter-group">
                    <label>Trạng thái</label>
                    <select id="statusFilter" onchange="filterTable()">
                        <option value="">Tất cả</option>
                        <option value="active">Hoạt động</option>
                        <option value="inactive">Không hoạt động</option>
                        <option value="locked">Bị khóa</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Vai trò</label>
                    <select id="roleFilter" onchange="filterTable()">
                        <option value="">Tất cả</option>
                        <option value="super_admin">Super Admin</option>
                        <option value="admin">Admin</option>
                        <option value="moderator">Moderator</option>
                    </select>
                </div>
                <div class="filter-group">
                    <button class="btn btn-outline" onclick="resetFilters()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                             stroke-width="2">
                            <path d="M3 6h18M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>
                        </svg>
                        Xóa bộ lọc
                    </button>
                </div>
            </div>
        </div>

        <!-- Statistics Cards -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-body">
                    <div class="stat-icon">
                        <img src="icons/user-total.svg" alt="Tổng tài khoản"/>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value">24</div>
                        <div class="stat-label">Tổng tài khoản</div>
                    </div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-body">
                    <div class="stat-icon">
                        <img src="icons/user-active.svg" alt="Đang hoạt động"/>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value">18</div>
                        <div class="stat-label">Đang hoạt động</div>
                    </div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-body">
                    <div class="stat-icon">
                        <img src="icons/user-inactive.svg" alt="Không hoạt động"/>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value">4</div>
                        <div class="stat-label">Không hoạt động</div>
                    </div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-body">
                    <div class="stat-icon">
                        <img src="icons/user-locked.svg" alt="Bị khóa"/>
                    </div>
                    <div class="stat-info">
                        <div class="stat-value">2</div>
                        <div class="stat-label">Bị khóa</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Table -->
        <div class="table-container">
            <div class="table-header">
                <h3>Danh sách tài khoản quản trị</h3>
                <div class="table-controls">
                    <select id="pageSize" onchange="changePageSize()">
                        <option value="10">10 dòng</option>
                        <option value="25" selected>25 dòng</option>
                        <option value="50">50 dòng</option>
                        <option value="100">100 dòng</option>
                    </select>
                </div>
            </div>

            <div class="table-wrapper">
                <table class="data-table" id="adminTable">
                    <thead>
                    <tr>
                        <th>
                            <input type="checkbox" id="selectAll" onchange="toggleSelectAll()">
                        </th>
                        <th>Thông tin cá nhân</th>
                        <th>Email / Tên đăng nhập</th>
                        <th>Vai trò</th>
                        <th>Trạng thái</th>
                        <th>Lần đăng nhập cuối</th>
                        <th>Ngày tạo</th>
                        <th>Thao tác</th>
                    </tr>
                    </thead>
                    <tbody id="tableBody">
                    <!-- Data sẽ được render bằng JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="table-footer">
                <div class="pagination-info">
                    Hiển thị <span id="showing">1-25</span> của <span id="total">156</span> kết quả
                </div>
                <div class="pagination">
                    <button class="page-btn" onclick="previousPage()" id="prevBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                             stroke-width="2">
                            <path d="M15 18l-6-6 6-6"/>
                        </svg>
                    </button>
                    <div class="page-numbers" id="pageNumbers">
                        <!-- Page numbers sẽ được render bằng JavaScript -->
                    </div>
                    <button class="page-btn" onclick="nextPage()" id="nextBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                             stroke-width="2">
                            <path d="M9 18l6-6-6-6"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div layout:fragment="modals">
    <div class="modal-overlay" id="accountModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">Thêm tài khoản khách hàng</h3>
                <button class="modal-close" onclick="closeModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="accountForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Họ và tên *</label>
                            <input type="text" id="fullName" required>
                        </div>
                        <div class="form-group">
                            <label>Email *</label>
                            <input type="email" id="email" required>
                        </div>
                        <div class="form-group">
                            <label>Tên đăng nhập *</label>
                            <input type="text" id="username" required>
                        </div>
                        <div class="form-group">
                            <label>Số điện thoại</label>
                            <input type="tel" id="phone">
                        </div>
                        <div class="form-group">
                            <label>Vai trò *</label>
                            <select id="role" required>
                                <option value="">Chọn vai trò</option>
                                <option value="super_admin">Super Admin</option>
                                <option value="admin">Admin</option>
                                <option value="moderator">Moderator</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Trạng thái</label>
                            <select id="status">
                                <option value="active">Hoạt động</option>
                                <option value="inactive">Không hoạt động</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" id="passwordGroup">
                        <label>Mật khẩu *</label>
                        <input type="password" id="password" required>
                        <small>Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa, chữ thường và số</small>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">Hủy bỏ</button>
                <button class="btn btn-primary" onclick="saveAccount()">Lưu thay đổi</button>
            </div>
        </div>
    </div>
</div>

<script layout:fragment="scripts">
    function showAddModal() {
        document.getElementById('accountModal').classList.add('show');
    }

    function closeModal() {
        document.getElementById('accountModal').classList.remove('show');
    }

    function filterTable() {
        // Logic filter table
    }

    function resetFilters() {
        // Logic reset filters
    }

    function exportData() {
        // Logic export data
    }

    function toggleSelectAll() {
        // Logic toggle select all
    }

    function changePageSize() {
        // Logic change page size
    }

    function previousPage() {
        // Logic previous page
    }

    function nextPage() {
        // Logic next page
    }

    function saveAccount() {
        // Logic save account
    }
</script>
</body>
</html>